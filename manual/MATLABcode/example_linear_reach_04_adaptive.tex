% This file was automatically created from the m-file % "m2tex.m" written by USL. % The fontencoding in this file is UTF-8. %  % You will need to include the following two packages in % your LaTeX-Main-File. %  % \usepackage{color} % \usepackage{fancyvrb} %  % It is advised to use the following option for Inputenc % \usepackage[utf8]{inputenc} %    % definition of matlab colors: \definecolor{mblue}{rgb}{0,0,1} \definecolor{mgreen}{rgb}{0.13333,0.5451,0.13333} \definecolor{mred}{rgb}{0.62745,0.12549,0.94118} \definecolor{mgrey}{rgb}{0.5,0.5,0.5} \definecolor{mdarkgrey}{rgb}{0.25,0.25,0.25}   \DefineShortVerb[fontfamily=courier,fontseries=m]{\$} \DefineShortVerb[fontfamily=courier,fontseries=b]{\#}   \noindent                                                                          $$\color{mgreen}$% System Dynamics ---------------------------------------------------------$\color{black}$$\\ $$\\ $A = [-0.7 -2; 2 -0.7];$\\ $B = 1;$\\ $$\\ $sys = linearSys($\color{mred}$'sys'$\color{black}$,A,B);$\\ $$\\ $$\\ $$\color{mgreen}$% Parameter ---------------------------------------------------------------$\color{black}$$\\ $$\\ $dim = length(A);$\\ $$\\ $params.tFinal = 5;$\\ $params.R0 = zonotope([[10; 5],0.5*eye(dim)]);       $\color{mgreen}$% initial set$\color{black}$$\\ $params.U = zonotope([ones(dim,1),0.25*eye(dim)]);   $\color{mgreen}$% uncertain inputs$\color{black}$$\\ $$\\ $$\\ $$\color{mgreen}$% Reachability Settings ---------------------------------------------------$\color{black}$$\\ $$\\ $options.linAlg = $\color{mred}$'adaptive'$\color{black}$; $\color{mgreen}$% adaptive parameter tuning$\color{black}$$\\ $$\\ $$\\ $$\color{mgreen}$% Simulation --------------------------------------------------------------$\color{black}$$\\ $$\\ $simOpt.points = 10;$\\ $simOpt.fracVert = 0.5;$\\ $simOpt.fracInpVert = 0.5;$\\ $simOpt.nrConstInp = 10;$\\ $$\\ $simRes = simulateRandom(sys, params, simOpt);$\\ $$\\ $$\\ $$\color{mgreen}$% Reachability Analysis ---------------------------------------------------$\color{black}$$\\ $$\\ $errs = [1;0.05];$\\ $stepssS = zeros(length(errs),1);$\\ $timesS = zeros(length(errs),1);$\\ $R = cell(length(errs),1);$\\ $$\\ $$\color{mgreen}$% compute reachable sets for different max. allowed errors$\color{black}$$\\ $$\color{mblue}$for$\color{black}$ i=1:length(errs)$\\ $    options.error = errs(i);$\\ $    tic$\\ $    R{i} = reach(sys,params,options);$\\ $    timesS(i) = toc;$\\ $    stepssS(i) = length(R{i}.timeInterval.set);$\\ $$\color{mblue}$end$\color{black}$$\\ $$\\ $$\\ $$\color{mgreen}$% Visualization -----------------------------------------------------------$\color{black}$$\\ $$\\ $figure; hold $\color{mred}$on$\color{black}$; box $\color{mred}$on$\color{black}$;$\\ $projDims = [1,2];$\\ $$\\ $$\color{mgreen}$% plot reachable set$\color{black}$$\\ $plot(R{1},projDims,$\color{mred}$$\color{mred}$'k'$\color{black}$$\color{black}$,$\color{mred}$'EdgeColor'$\color{black}$,$\color{mred}$$\color{mred}$'k'$\color{black}$$\color{black}$);$\\ $plot(R{2},projDims,$\color{mred}$'FaceColor'$\color{black}$,[0.7,0.7,0.7],$\color{mred}$'EdgeColor'$\color{black}$,[0.7,0.7,0.7]);$\\ $$\\ $$\color{mgreen}$% plot initial set$\color{black}$$\\ $plot(params.R0,projDims,$\color{mred}$'w'$\color{black}$,$\color{mred}$'LineWidth'$\color{black}$,1.5);$\\ $$\\ $$\color{mgreen}$% plot simulation$\color{black}$$\\ $plot(simRes,projDims,$\color{mred}$'b'$\color{black}$,$\color{mred}$'LineWidth'$\color{black}$,0.5);$\\ $$\\ $$\color{mgreen}$% plot unsafe set$\color{black}$$\\ $unsafeSet = interval([2;-2],[4;2]);$\\ $plot(unsafeSet,projDims,$\color{mred}$'FaceColor'$\color{black}$,[227,114,34]/255,...$\\ $    $\color{mred}$'EdgeColor'$\color{black}$,$\color{mred}$'r'$\color{black}$,$\color{mred}$'LineWidth'$\color{black}$,2);$\\ $$\\ $$\color{mgreen}$% formatting$\color{black}$$\\ $xlabel($\color{mred}$'x_1'$\color{black}$); ylabel($\color{mred}$'x_2'$\color{black}$);$\\ $title($\color{mred}$'2D system'$\color{black}$);$\\ $             $\\   \UndefineShortVerb{\$} \UndefineShortVerb{\#}