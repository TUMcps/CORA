\subsubsection{observe} \label{sec:observe}

The operation \operator{observe} performs guaranteed state estimation to obtain the set of possible states from inputs and outputs. Since measurements are typically obtained at discrete points in time, we only discuss the discrete-time case subsequently. To formalize the problem of set-based state estimation, we introduce the operator to receive the next state as $\chi(x_k,u_k,w_k)$. Our goal is to obtain the set of states $\mathcal{S}_{k}$ at time step $k$ enclosing the true state from a set of initial states $\mathcal{S}_0 \subset \mathbb{R}^n$, which we define inductively:
\begin{equation*}
\mathcal{S}_{k} = \Big\{x_k = \chi\Big(x_{k-1},u_{k-1},w_{k-1}\Big) \Big|  x_{k-1} \in \mathcal{S}_{k-1}, w_{k-1} \in \mathcal{W}, v_{k} \in \mathcal{V}, y_{k} = C x_k + v_{k} \Big\}.
\end{equation*}
A reachability problem is a special case, which does not require to check the consistency with the measurement to obtain the reachable set as
\begin{equation*}
\mathcal{R}_{k} = \Big\{x_k =\chi\Big(x_{k-1},u_{k-1},w_{k-1}\Big) \Big| x_{k-1} \in \mathcal{S}_{k-1}, w_{k-1} \in \mathcal{W} \Big\}.
\end{equation*}
We aim at computing an over-approximation of $\mathcal{S}_{k}$ that minimizes various cost functions as described in \cite{Althoff2021c, Althoff2021d}. This goal is pursued differently for the strip-based, set-propagation, and interval observers \cite{Althoff2021c, Althoff2021d}.

The syntax for the operation \texttt{observe} is:
\begin{equation*}
\begin{split}
	& \texttt{R} = \texttt{observe}(\texttt{sys},\texttt{params},\texttt{options}),
\end{split}
\end{equation*}
with input arguments

\begin{center}
\renewcommand{\arraystretch}{1.3}
\begin{tabular}[t]{l p{13cm} }
	$\bullet$~\texttt{sys} & dynamic system defined by one of the classes \texttt{linearSysDT} (see \cref{sec:linearSysDT}) or \texttt{nonlinearSysDT} (see \cref{sec:nonlinearSystemsDT}) \\
	$\bullet$~\texttt{params} & struct containing the parameter that define the observation problem \\
	& \begin{tabular}[t]{l p{10cm}}	
	 	--~\texttt{.tStart} & initial time $t_0$ (default value 0) \\
	 	--~\texttt{.tFinal} & final time $t_f$ \\
	 	--~\texttt{.R0} & initial set $\mathcal{X}_0$ specified by one of the set representations in \cref{sec:basicSetRep}\\
	 	--~\texttt{.W} & disturbance $\mathcal{W}$ specified as an object of class \texttt{zonotope} (see \cref{sec:zonotope}) or \texttt{ellipsoid} (see \cref{sec:ellipsoids}) \\
	 	--~\texttt{.V} & set of sensor noises $\mathcal{V}$ specified as an object of class \texttt{zonotope} (see \cref{sec:zonotope}) or \texttt{ellipsoid} (see \cref{sec:ellipsoids}) \\
	 	--~\texttt{.u} & time-dependent input $u(t)$ to the system, specified as a matrix for which the number of columns is identical to the number of measurements \\
	 	--~\texttt{.y} & time-dependent output $y(t)$ to the system, specified as a matrix for which the number of columns is identical to the number of measurements 
	 \end{tabular}
\end{tabular}
\end{center}
\begin{center}
\renewcommand{\arraystretch}{1.3}
\begin{tabular}[t]{l p{13cm} }
	$\bullet$~\texttt{options} & struct containing algorithm settings for set-based observation. Since the settings are different for each type of dynamic system, they are documented in \cref{sec:continuousDynamics} and \cref{sec:hybridDynamics}.
\end{tabular}
\end{center}

and output arguments

\begin{center}
\renewcommand{\arraystretch}{1.3}
\begin{tabular}[t]{l p{13cm} }
	$\bullet$~\texttt{R} & object of class \texttt{reachSet} (see \cref{sec:reachSet}) that stores the observed set $\mathcal{R}(t_i)$ for all time points.
\end{tabular}
\end{center}


Let us demonstrate the operation \texttt{observe} by an example:

\begin{center}
\begin{minipage}[t]{\textwidth}
	\footnotesize
	\input{./MATLABcode/example_observe}
\end{minipage}
\begin{minipage}[t]{0.75\textwidth}
	\vspace{0pt}
	\centering
	\includetikz{./figures/tikz/contDynamics/example_observe}
\end{minipage}
\end{center}
